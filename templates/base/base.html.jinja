<!DOCTYPE html>
<html lang="en">

<head>
  {% block head %}
  <title>Byte Heist</title>
  <meta name="description" value="Yet Another Golf Site" />
  <meta name="keywords" value="code-golf" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta charset="UTF-8" />
  <link rel="icon" href="/static/favicon.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Kode+Mono:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'kode': ['Kode Mono', 'monospace'],
            'inter': ['Inter', 'sans-serif'],
          },
          colors: {
            'byte-green-950': '#042F15', // very dark green
            'byte-green-900': '#063C1B', // dark green
            'byte-green-700': '#27B762', // emerald/primary
            'byte-green-100': '#BDFFD8', // mint/light
            'byte-green-50': '#E2FFEE', // honeydew/very light
            'byte-brown-950': '#130F0C', // very dark brown
            'byte-brown-700': '#2C2824', // dark brown
            'byte-brown-500': '#654E3D', // brown
            'byte-brown-200': '#967B60', // light brown
          }
        }
      }
    }
  </script>
  {% endblock head %}
  {% block scripts %}
  {{ modules(modules="js/index.ts") | safe }}
  {% endblock scripts %}
  {% if dev %}
  <!-- temporary hacks to get webworkers to work during dev -->
  <script>
      (() => {
        const OriginalWebWorker = window.Worker;

        class Worker extends OriginalWebWorker {
          constructor(original_url, type) {
            function getWorkerURL(url) {
              const content = `import a from ${JSON.stringify(url)};`;
              return URL.createObjectURL(new Blob([content], {
                type: "text/javascript"
              }));
            }
            const worker_url = getWorkerURL(original_url);
            super(worker_url, type);
            URL.revokeObjectURL(worker_url);
          }
        }

        window.Worker = Worker;
      })();
  </script>
  {% endif %}
</head>

<body class="bg-byte-green-950">
  <header
    class="sticky top-0 z-50 bg-byte-green-950 text-byte-green-700 py-4 px-10 shadow-lg transition-colors duration-300">
    <div class="max-w-8xl mx-auto flex justify-between items-center">
      <div class="flex items-center">
        <a href="/" class="flex items-center gap-2 text-byte-green-700 hover:text-white transition-all duration-200 ">
          {# <img src="/static/favicon.svg" width="30" alt="Byte Heist" /> #}
          <span class="font-kode font-bold text-xl">ByteHeist</span>
        </a>
      </div>
      <div class="flex items-center gap-8">
        <a href="/heists"
          class="text-white hover:text-white font-inter font-medium text-sm transition-all duration-100 hover:underline">Heists</a>
        <a href="/leaderboard/code-golf"
          class="text-white hover:text-white font-inter font-medium text-sm transition-all duration-100 hover:underline">Leaderboard</a>
        {% if account %}
        <a href="/user/{{ account.id }}"
          class="flex items-center gap-2 text-white hover:text-white font-kode transition-all duration-100 hover:underline">
          {# <span>{{ account.username }}</span> #}
          <img src="{{ account.avatar }}&size=34" width="34" class="rounded-full"
            alt="{{ account.username }} profile picture" />
        </a>
        {% else %}
        <a href="/login/github"
          class="text-byte-green-700 hover:text-green-400 font-kode transition-all duration-300 hover:underline">Login</a>
        {% endif %}
      </div>
    </div>
  </header>
  <main>
    {% block content %}
    {% endblock content %}
  </main>

  <footer class="w-full border-t border-byte-green-900 py-6 bg-byte-green-950 px-10">
    <div class="max-w-8xl flex flex-col items-center justify-between gap-4 md:flex-row">
      <div class="flex items-center gap-2 font-semibold text-white">
        <span>ByteHeist</span>
      </div>
      <p class="text-sm text-slate-400">Â© 2025 ByteHeist. All rights reserved.</p>
      <div class="flex gap-4">
        <a href="/terms" class="text-sm text-slate-400 hover:text-white hover:underline underline-offset-4">Terms</a>
        <a href="/privacy"
          class="text-sm text-slate-400 hover:text-white hover:underline underline-offset-4">Privacy</a>
        <a href="https://discord.gg/ugbfdgzpjK"
          class="text-sm text-slate-400 hover:text-white hover:underline underline-offset-4 flex items-center gap-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="lucide lucide-message-circle">
            <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z" />
          </svg>
          Discord
        </a>
        <a href="https://github.com/mousetail/Byte-Heist"
          class="text-sm text-slate-400 hover:text-white hover:underline underline-offset-4 flex items-center gap-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="lucide lucide-github">
            <path
              d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4" />
            <path d="M9 18c-4.51 2-5-2-7-2" />
          </svg>
          GitHub
        </a>
      </div>
    </div>
  </footer>

  {% block post_content %}
  {% endblock post_content %}
</body>

</html>